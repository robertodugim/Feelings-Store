<div class="grid">
    <p class="loading-img" ng-show="loadingCart"><img src="src/images/loading.gif"></p>
    <div ng-show="!loadingCart" class="row">
        <h1>Your Cart</h1>
        <div class="col-xs-12">
            <div class="col-xs-6 col-xs-push-6">
                <span>SubTotal</span>
            </div>
            <div class="col-xs-3 col-xs-push-3">
                <span>Quantity</span>
            </div>
        </div>
        <div class="col-xs-12" ng-repeat="(id, product) in products">
            <hr>
            <div class="col-xs-3">
                 <a class="remove-icon" ng-click="RemoveProduct(id)"><i class="glyphicon glyphicon-remove"></i></a>
                 <a class="cart-product-img-box" href="product/{{id}}">
                    <img title="{{product.name}}" src="src/images/products/{{id}}_thumb.jpg">
                 </a>
            </div>
            <div class="col-xs-3">
                <p class="title">{{product.name}}</p>
                <p class="price">{{product.value | currency}}</p>
                <blockquote class="hidden-xs hidden-sm">
                    {{product.description}}
                    <footer>
                        <cite>
                            {{product.author}}
                        </cite>
                    </footer>
                </blockquote>
            </div>
            <div class="col-xs-3">
                <p><span class="price">{{product.total_amount | currency}}</span></p>
            </div>
            <div class="col-xs-3">
                <div class="add-to-cart">
                    <input type="number" min="1" max="1000" ng-model="product.quantity" class="form-control quantity-field cart-field" id="quantity">
                    <button ng-click="changeProductInCart(id,product.quantity)" type="button" class="btn btn-primary change-qt-btn">Change</button>
                </div>
            </div>
        </div>
        <div class="col-xs-12">
            <div class="col-sm-3 col-sm-push-9 col-xs-5 col-xs-push-7 total-box">
                <p class="title">Total ({{productsInCart}} items)</p>
                <p><span class="price">{{total | currency}}</span></p>
            </div>
        </div>
    </div>
    <hr>
    <div class="col-md-6 col-xs-12 address-box">
        <h2>Shipping Address</h2>
        <div class="form-group">
            <label for="shipping_street">Street:</label>
            <input type="text" ng-model="shipping.street" class="form-control" id="shipping_street" >
        </div>
        <div class="form-group">
            <label for="shipping_postalcode">Postalcode:</label>
            <input type="text" ng-model="shipping.postalcode" class="form-control" id="shipping_postalcode" >
        </div>
        <div class="form-group">
            <label for="shipping_city">City:</label>
            <input type="text" ng-model="shipping.city" class="form-control" id="shipping_city" >
        </div>
        <div class="form-group">
            <label for="shipping_state">State:</label>
            <input type="text" ng-model="shipping.state" class="form-control" id="shipping_state" >
        </div>
        <div class="form-group">
            <label for="shipping_country">Country:</label>
            <input type="text" ng-model="shipping.country" class="form-control" id="shipping_country" >
        </div>
        <div class="form-group">
            <button ng-click="SaveShipping()" type="button" class="btn btn-primary">Save Shipping</button>
            <button ng-click="removeShipping()" type="button" class="btn btn-danger">Clear Shipping</button>
        </div>
    </div>
    <div class="col-md-6 col-xs-12 address-box">
        <h2>Billing Address</h2>
        <div class="form-group">
            <label for="billing_street">Street:</label>
            <input type="text" ng-model="billing.street" class="form-control" id="billing_street" >
        </div>
        <div class="form-group">
            <label for="billing_postalcode">Postalcode:</label>
            <input type="text" ng-model="billing.postalcode" class="form-control" id="billing_postalcode" >
        </div>
        <div class="form-group">
            <label for="billing_city">City:</label>
            <input type="text" ng-model="billing.city" class="form-control" id="billing_city" >
        </div>
        <div class="form-group">
            <label for="billing_state">State:</label>
            <input type="text" ng-model="billing.state" class="form-control" id="billing_state" >
        </div>
        <div class="form-group">
            <label for="billing_country">Country:</label>
            <input type="text" ng-model="billing.country" class="form-control" id="billing_country" >
        </div>
        <div class="form-group">
            <button ng-click="SaveBilling()" type="button" class="btn btn-primary">Save Billing</button>
            <button ng-click="CopyShipping()" type="button" class="btn btn-success">Copy Shipping to Billing Address</button>
            <button ng-click="removeBilling()" type="button" class="btn btn-danger">Clear Billing</button>
        </div>
    </div>
</div>

<script>
    $( function() {
        $( "#ChangeAddresses" ).accordion({
            collapsible: true,
            active:false,
            heightStyle: "content"
        });
    } );
</script>